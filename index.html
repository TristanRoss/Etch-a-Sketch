<!DOCTYPE html>
<html>

    <head>
        <title>Etch A Sketch</title>
    </head>

    <body>
        <button id="clear">New Grid</button>
        <div id="container">

        </div>
    </body>

    <script>

        const myButton = document.querySelector('#clear');

        myButton.addEventListener("click", newGrid);

        let divCount = 16;

        const container = document.querySelector('#container');
        container.style.display = 'grid';
        container.style.gridTemplateColumns = 'repeat(' + Math.sqrt(divCount) + ', auto)';
        // container.style.gridGap = '0px 0px';
        container.style.width = '500px';
        container.style.height = '500px';
        container.style.margin = '0 auto';
        container.style.border = "1px solid black";

        makeDivs(divCount);

        const divs = document.querySelectorAll('div');

        divs.forEach((div) => {
            if(div.id == "container") {

            } else {
                div.addEventListener("mouseover", blackBackGround);
            }

        });

        function newGrid() {
            let divCount = prompt("Enter number of rows (2-100)");
            divCount = divCount * divCount;
            while (container.firstChild) {
                container.removeChild(container.firstChild);
            }
            makeDivs(divCount);
            container.style.gridTemplateColumns = 'repeat(' + Math.sqrt(divCount) + ', auto)';

            const divs = document.querySelectorAll('div');

            divs.forEach((div) => {
                if(div.id == "container") {

                } else {
                    div.addEventListener("mouseover", blackBackGround);
                }

            });
        }

        function blackBackGround() {
            this.style.backgroundColor = "black";
        }

        function whiteBackGround() {
            this.style.backgroundColor = "white";
        }

        function makeDivs(numberOfDivs) {
            for (let i = 0; i < numberOfDivs; i++) {
                const square = document.createElement('div');
                container.appendChild(square);
                let fraction = (1 / numberOfDivs) * 100;
                square.style.border = '1px solid black';
                square.style.height = "100%";
                square.style.width = "100%";
            }
        }





    </script>


</html>